<h2>All Opportunities ({{ count() }})</h2>

<div *ngIf="loading()">Loading...</div>
<div *ngIf="error()" class="error">{{ error() }}</div>

<table class="opplist" *ngIf="rows().length && !loading()">
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Account</th>
      <th>Contact</th>
      <th>Owner</th>
      <th>Stage</th>
      <th>Status</th>
      <th>Amount</th>
      <th>Created</th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let row of rows()">
      <td>{{ row.opportunity_id }}</td>
      <td>{{ row.opportunity_name }}</td>
      <td>{{ row.account_id }}</td>
      <td>{{ row.primary_contact_id }}</td>
      <td>{{ row.owner_id }}</td>
      <td>{{ row.stage }}</td>
      <td>{{ row.status }}</td>
      <td>{{ row.amount }} {{ row.currency }}</td>
      <td>{{ row.created_at | date:'yyyy-MM-dd' }}</td>
    </tr>
  </tbody>
</table>
